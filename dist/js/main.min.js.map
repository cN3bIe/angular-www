{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/js-es6/app.js","app/js-es6/commponent/AppCtrl/index.js","app/js-es6/commponent/LoginForm/index.js","app/js-es6/commponent/ProfileForm/index.js","app/js-es6/commponent/RegistrationForm/index.js","app/js-es6/vendor/LS/index.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","console","log","angular","config","$stateProvider","$urlRouterProvider","otherwise","state","url","templateUrl","controller","_AppCtrl2","default","_LoginForm2","_RegistrationForm2","_ProfileForm2","factory","$resource","type","country","city","fields","AppCtrl","$mdSidenav","$log","contryREST","_classCallCheck","this","title","_$mdSidenav","_$log","_this","close","then","debug","_this2","toggle","$inject","LoginForm","$state","_$state","user","_LS2","get","find","email","pass","set","go","ProfileForm","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","isDisabled","btn","oldUser","users","map","el","id","arr","RegistrationForm","_contryREST","query","toLowerCase","result","error","$promise","text","obj","name","selectedItemCountry","capital","selectedItemCity","setCityCountry","Math","floor","random","some","push","LS","data","localStorage","setItem","JSON","stringify","parse","getItem","clear","location","reload"],"mappings":"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","file":"main.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","const log = console.log;\r\n\r\n\r\nimport LS from './vendor/LS';\r\n\r\nimport AppCtrl from './commponent/AppCtrl';\r\nimport LoginForm from './commponent/LoginForm';\r\nimport RegistrationForm from './commponent/RegistrationForm';\r\nimport ProfileForm from './commponent/ProfileForm';\r\n\r\n\r\nlet userIsAuthenticated = function() {\r\n\treturn !!LS.get( 'login' );\r\n}\r\n\r\nlet loginRequired = function($state, $q) {\r\n\tconsole.log( $state );\r\n\tconsole.log( userIsAuthenticated() );\r\n\tlet deferred = $q.defer();\r\n\tif( !userIsAuthenticated() ) {\r\n\t\tdeferred.reject()\r\n\t\t$state.go('login');\r\n\t} else  deferred.resolve()\r\n\treturn deferred.promise;\r\n};\r\n;(() => {\r\n\tangular.module('app', ['ngMaterial','ngResource','ui.router', 'ngMessages', ])\r\n\t.config(['$stateProvider','$urlRouterProvider',function($stateProvider, $urlRouterProvider) {\r\n\r\n\t\t$urlRouterProvider.otherwise('/registration');\r\n\r\n\t\t$stateProvider\r\n\t\t\t.state('registration', {\r\n\t\t\t\turl: '/registration',\r\n\t\t\t\ttemplateUrl: 'partial-registration.html',\r\n\t\t\t})\r\n\t\t\t.state('login', {\r\n\t\t\t\turl: '/login',\r\n\t\t\t\ttemplateUrl: 'partial-login.html',\r\n\t\t\t})\r\n\t\t\t.state('profile', {\r\n\t\t\t\turl: '/profile',\r\n\t\t\t\ttemplateUrl: 'partial-profile.html',\r\n\t\t\t\t// resolve: { loginRequired: loginRequired }\r\n\t\t\t});\r\n\r\n\r\n\t}])\r\n\t.controller('AppCtrl', AppCtrl)\r\n\t.controller('LoginForm', LoginForm)\r\n\t.controller('RegistrationForm', RegistrationForm)\r\n\t.controller('ProfileForm', ProfileForm)\r\n\t.factory('contryREST',[\r\n\t\t'$resource',\r\n\t\t$resource => $resource('https://restcountries.eu/rest/v2/:type/:country:city',{\r\n\t\t\ttype: '@type',\r\n\t\t\tcountry: '@country',\r\n\t\t\tcity: '@city',\r\n\t\t\tfields: '@fields'\r\n\t\t})\r\n\t]);\r\n})();","class AppCtrl {\r\n\tconstructor($mdSidenav, $log,contryREST){\r\n\t\tthis.title = 'Hey';\r\n\t\tthis._$mdSidenav = $mdSidenav;\r\n\t\tthis._$log = $log;\r\n\t}\r\n\tclose(){\r\n\t\tthis._$mdSidenav('left').close()\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis._$log.debug(\"close LEFT is done\");\r\n\t\t\t});\r\n\t}\r\n\topen(){\r\n\t\tthis._$mdSidenav('left').toggle()\r\n\t\t\t.then( () => {\r\n\t\t\t\tthis._$log.debug(\"toggle Left is done\")\r\n\t\t\t});\r\n\t}\r\n};\r\n\r\nAppCtrl.$inject = ['$mdSidenav', '$log'];\r\nexport default AppCtrl;","import LS from '../../vendor/LS';\r\n\r\nclass LoginForm {\r\n\tuser: {\r\n\t\temail: '',\r\n\t\tpass: '',\r\n\t};\r\n\tconstructor( $state ){\r\n\t\tthis._$state = $state;\r\n\t}\r\n\tsubmit(){\r\n\t\tlet users = LS.get('users') || [];\r\n\t\tlet user = users.find( u => u.email === this.user.email && u.pass === this.user.pass );\r\n\t\tif( user ){\r\n\t\t\tLS.set( 'login',true );\r\n\t\t\tLS.set( 'user',user );\r\n\t\t\tthis._$state.go('profile');\r\n\t\t}\r\n\t}\r\n};\r\n\r\nLoginForm.$inject = ['$state'];\r\nexport default LoginForm;","import LS from '../../vendor/LS';\r\n\r\nimport RegistrationForm from '../RegistrationForm';\r\n\r\nclass ProfileForm extends RegistrationForm {\r\n\tconstructor( contryREST ){\r\n\t\tsuper( contryREST );\r\n\t\tthis.user = LS.get('user');\r\n\t\tthis.isDisabled = true;\r\n\t\tthis.btn = ['Update','Save'];\r\n\t}\r\n\tedit(){\r\n\t\tthis.isDisabled = !this.isDisabled;\r\n\t}\r\n\tsubmit(){\r\n\t\tlet oldUser = LS.get('user');\r\n\t\tlet users = LS.get('users') || [];\r\n\t\tLS.set('users',users.map( (el,id,arr) => oldUser.id === el.id ? this.user: el ));\r\n\t\tLS.set( 'user', this.user );\r\n\t}\r\n};\r\n\r\nProfileForm.$inject = [ 'contryREST' ];\r\nexport default ProfileForm;\r\n\r\n","import LS from '../../vendor/LS';\r\n\r\nclass RegistrationForm {\r\n\tuser: {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tcountry: '',\r\n\t\tcity: '',\r\n\t\tpass: '',\r\n\t};\r\n\tconstructor( $state, $log,contryREST ){\r\n\t\tthis._$log = $log;\r\n\t\tthis._$state = $state;\r\n\t\tthis._contryREST = contryREST;\r\n\t}\r\n\tquerySearch( query,country ){\r\n\t\tlet fields = country?'name':'capital';\r\n\t\tlet type = query?fields:'all';\r\n\t\treturn this._contryREST.query({\r\n\t\t\ttype,\r\n\t\t\tcountry: query.toLowerCase(),\r\n\t\t\tfields\r\n\t\t}, result => {\r\n\t\t\treturn result ;\r\n\t\t}, error => {\r\n\t\t\tthis._$log.error( 'error',error );\r\n\t\t}).$promise;\r\n\t}\r\n\tsetCityCountry( text, obj ){\r\n\t\tthis._$log.debug( text, obj );\r\n\t\tif( obj ){\r\n\t\t\tif( obj.name ){\r\n\t\t\t\tthis.user.country = obj.name;\r\n\t\t\t\tthis.selectedItemCountry = obj;\r\n\t\t\t}\r\n\t\t\tif( obj.capital ){\r\n\t\t\t\tthis.user.city = obj.capital;\r\n\t\t\t\tthis.selectedItemCity = obj;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tselectedItemChange( obj ){\r\n\t\tthis.setCityCountry('Text changed to ', obj );\r\n\t}\r\n\tsearchTextChange( obj ){\r\n\t\tthis.setCityCountry('Item changed to ', obj );\r\n\t}\r\n\tsubmit(){\r\n\t\tlet users = LS.get('users') || [];\r\n\t\tlet min = 1;\r\n\t\tlet max = 30;\r\n\t\tthis.user.id = Math.floor( Math.random()* (max - min) + min );\r\n\t\tif( !users.some( (el)=> this.user.email === el.email ) ) users.push( this.user );\r\n\t\tthis._$state.go('login');\r\n\t\tLS.set('users',users);\r\n\t}\r\n};\r\n\r\nRegistrationForm.$inject = [ '$state', '$log','contryREST'];\r\nexport default RegistrationForm;","export default class LS {\r\n\tstatic set(name,data){\r\n\t\tlocalStorage.setItem(name,JSON.stringify(data) );\r\n\t}\r\n\tstatic get(name){\r\n\t\treturn JSON.parse( localStorage.getItem(name) );\r\n\t}\r\n\tstatic clear(){\r\n\t\tlocalStorage.clear(); location.reload();\r\n\t}\r\n};"]}