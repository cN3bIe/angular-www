!function e(t,n,r){function o(u,a){if(!n[u]){if(!t[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(i)return i(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[u]={exports:{}};t[u][0].call(s.exports,function(e){var n=t[u][1][e];return o(n||e)},s,s.exports,e,t,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.title="Hey",this.project={description:"",special:!0},this.toggleLeft=this.buildDelayedToggler("left")}return r(e,[{key:"debounce",value:function(e,t,n){var r=void 0;return function(){var n=$scope,o=Array.prototype.slice.call(arguments);$timeout.cancel(r),r=$timeout(function(){r=void 0,e.apply(n,o)},t||10)}}},{key:"buildDelayedToggler",value:function(e){return this.debounce(function(){$mdSidenav(e).toggle().then(function(){$log.debug("toggle "+e+" is done")})},200)}},{key:"buildToggler",value:function(e){return function(){$mdSidenav(e).toggle().then(function(){$log.debug("toggle "+e+" is done")})}}}]),e}();o.$inject=["$scope","$timeout","$mdSidenav","$log","contryREST"],n.default=o},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"set",value:function(e,t){localStorage.setItem(e,JSON.stringify(t))}},{key:"get",value:function(e){return JSON.parse(localStorage.getItem(e))}},{key:"clear",value:function(){localStorage.clear(),location.reload()}}]),e}();n.default=o},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.close=function(){r("left").close().then(function(){o.debug("close LEFT is done")})}};r.$inject=["$scope","$timeout","$mdSidenav","$log"],n.default=r},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.user={email:"",pass:""}}return r(e,[{key:"submit",value:function(){var e=(LS.get("users")||[]).find(function(e){return e.email===$scope.user.email&&e.pass===$scope.user.pass});e&&(LS.set("login",!0),LS.set("user",e),$location.path("/profile"))}}]),e}();o.$inject=["$scope","$location"],n.default=o},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.user=LS.get("user")}return r(e,[{key:"querySearch",value:function(e,t){var n=t?"name":"capital",r=e?n:"all",o=$q.defer();return contryREST.query({type:r,country:e.toLowerCase(),fields:t?n+";capital":n},function(e){o.resolve(e)},function(e){log("error",e)}),o.promise}},{key:"selectedItemChange",value:function(e){$log.info("Text changed to "+JSON.stringify(e)),e&&e.name&&($scope.user.country=e.name,this.searchTextCity=$scope.user.city=e.capital),e&&e.capital&&($scope.user.city=e.capital)}},{key:"searchTextChange",value:function(e){$log.info("Item changed to "+JSON.stringify(e)),e&&e.name&&($scope.user.country=e.name),e&&e.capital&&($scope.user.city=e.capital)}},{key:"submit",value:function(){var e=LS.get("user"),t=LS.get("users")||[];LS.set("users",t.map(function(t,n,r){return e.id===t.id?$scope.user:t})),LS.set("user",$scope.user)}}]),e}();o.$inject=["$scope","$timeout","$q","$log","contryREST"],n.default=o},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n,r,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.user={name:"",email:"",country:"",city:"",pass:""},this._contryREST=i,this._$q=r}return r(e,[{key:"querySearch",value:function(e,t){var n=t?"name":"capital",r=e?n:"all",o=this._$q.defer();return this._contryREST.query({type:r,country:e.toLowerCase(),fields:n},function(e){o.resolve(e)},function(e){console.log("error",e)}),console.log(),o.promise}},{key:"selectedItemChange",value:function(e){$log.info("Text changed to "+JSON.stringify(e)),e&&e.name&&($scope.user.country=e.name),e&&e.capital&&($scope.user.city=e.capital)}},{key:"searchTextChange",value:function(e){$log.info("Item changed to "+JSON.stringify(e)),e&&e.name&&($scope.user.country=e.name),e&&e.capital&&($scope.user.city=e.capital)}},{key:"submit",value:function(){var e=LS.get("users")||[];$scope.user.id=Math.floor(29*Math.random()+1),e.some(function(e){return $scope.user.email===e.email})||e.push($scope.user),$location.path("/login"),LS.set("users",e)}}]),e}();o.$inject=["$scope","$location","$q","$log","contryREST"],n.default=o},{}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=r(e("./LS")),i=r(e("./AppCtrl")),u=r(e("./LeftCtrl")),a=r(e("./LoginForm")),c=r(e("./RegistrationForm")),l=r(e("./ProfileForm")),s=(console.log,function(e,t){var n=t.defer();return o.default.get("login")?n.resolve():(n.reject(),e.path("/login")),n.promise});angular.module("app",["ngMaterial","ngResource","ui.router","ngMessages"]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/registration"),e.state("registration",{url:"/registration",templateUrl:"partial-registration.html"}).state("login",{url:"/login",templateUrl:"partial-login.html"}).state("profile",{url:"/profile",templateUrl:"partial-profile.html",resolve:{loginRequired:s}})}]).controller("AppCtrl",i.default).controller("LeftCtrl",u.default).controller("LoginForm",a.default).controller("RegistrationForm",c.default).controller("ProfileForm",l.default).factory("contryREST",["$resource",function(e){return e("https://restcountries.eu/rest/v2/:type/:country:city",{type:"@type",country:"@country",city:"@city",fields:"@fields"})}])},{"./AppCtrl":1,"./LS":2,"./LeftCtrl":3,"./LoginForm":4,"./ProfileForm":5,"./RegistrationForm":6}]},{},[7]);
//# sourceMappingURL=main.min.js.map
